<div class="wallet-wrapper" style="height: calc(100vh - 132px);">

    <div class="circle-container">
      <div class="container" style="padding-bottom: 8px;">
        <div style="margin-bottom: 20px;">
          <div class="circle tex">
            <div class="circle-info">
              <div class="large-writing">
                <% if @daily_remaining>= 0 %>
                  £ <%= @daily_remaining.round(1) %>
                <% else %>
                  £ <%= 0 %>
                <% end %>
              </div>
              <div style="font-size: 20px;">Remaining</div>
            </div>
          </div>
        </div>
      </div>
      <%= link_to "+", new_transaction_path, class:"btn-add" %>
    </div>

    <div class="slick-carousel">
      <% @transactions.each do |transaction|%>
        <div class="center-items">
          <%= link_to transaction_path(transaction) do %>
            <div class="item-info">
              <p class="text-center font-weight-bold"><%= transaction.merchant %></p>
              <% case transaction.merchant %>
                <% when "Bakery" %>
                  <p style="text-align: center; font-size: 50px; margin: 0">🥐</p>
                <% when "Eat" %>
                  <p style="text-align: center; font-size: 50px; margin: 0">🍌</p>
                <% when "Pharmacy" %>
                  <p style="text-align: center; font-size: 50px; margin: 0">💊</p>
                <% when "Pret" %>
                  <p style="text-align: center; font-size: 50px; margin: 0">🥗</p>
                <% when "Book" %>
                  <p style="text-align: center; font-size: 50px; margin: 0">📚</p>
                <% when "Water" %>
                  <p style="text-align: center; font-size: 50px; margin: 0">💦</p>
                <% when "Plant" %>
                  <p style="text-align: center; font-size: 50px; margin: 0">🌱</p>
              <% end %>
              <p class="text-center">£<%= transaction.amount_cents / 100.0 %></p>
            </div>
          <% end %>
        </div>
      <% end %>
    </div>

    <div class="container info-flex">
      <div class="little-card p-3">
        <div class="">
          <%= link_to transactions_path do %>
          <div class="card-info">
            <h2 class="font-weight-bold text-center" style="font-size:20px;">Money spent today: </h2><div class="text-center" style="font-size:30px;">£<%= @total_spent %></div>
            <% if @total_spent <= @daily_budget %>
              <p class="text-center">You are within your daily budget 👍🏼</p>
            <% else %>
              <p class="text-center">You have exceeded your budget by £<%= -1 * @daily_remaining.round(1) %> for the day 👎🏼</p>
            <% end %>
          </div>
        </div>
      <% end %>
    </div>
   </div>
</div>


<div id="transactions-data" data-days="<%= @wallet.days.to_json %>" data-transactions="<%= @results.to_json %>"></div>
<%= content_for(:after_js) do %>
<%= javascript_pack_tag 'slick_carousel' %>
<% end %>
